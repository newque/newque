Name: newque
Version: 0.0.1
Synopsis: Reliable declarative message broker.
Authors: Simon Grondin <github@simongrondin.name>
License: MIT

Description: In development.
Homepage: https://github.com/SGrondin/newque

OASISFormat: 0.4
BuildTools: ocamlbuild
Plugins: META (0.4), DevFiles (0.4)

PreBuildCommand: rm -rf tmp && rm -f src/config/config_*.ml* && mkdir tmp && find src -name "*.ml*" | xargs ocp-indent -i && atdgen -t ./src/config/config.atd && atdgen -j -j-std ./src/config/config.atd && find src -name '*.ml*' | xargs -J% cp % ./tmp

PreCleanCommand: rm -rf tmp src/config/config_*.ml* logs

Executable "newque"
  Path: tmp
  MainIs: main.ml
  CompiledObject: byte
  BuildDepends:
    atd,
    atdgen,
    core,
    cohttp,
    cohttp.lwt,
    lwt,
    lwt.ppx,
    lwt.preemptive,
    lwt.unix,
    ppx_sexp_conv,
    ppx_deriving_protobuf,
    sqlite3,
    threads
